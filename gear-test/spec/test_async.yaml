title: Async-await

programs:
  - id: 2
    path: target/wasm32-unknown-unknown/release/demo_ping.opt.wasm

  - id: 5
    path: target/wasm32-unknown-unknown/release/demo_mutex.opt.wasm
    init_message:
      kind: utf-8
      value: "{2}"

fixtures:
  - title: mutex

    messages:
      - destination: 5
        payload: &start
          kind: utf-8
          value: START
      - destination: 5
        payload: *start

 # Mikita: TODO: create pallet test like this one
 # /home/ubuntu/gear/gear/target/release/gear runtime-spec-tests /home/ubuntu/gear/gear/gear-test/spec/test_async.yaml --runtime gear